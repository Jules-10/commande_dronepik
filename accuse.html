<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset='utf-8'>
    <title>Commande</title>
    <link rel='stylesheet' type='text/css' media='screen' href='style_achat.css'>
</head>
<body onload="recuperer()">
    <header>
        <p id="pub"><img  src="./images/pub.png" alt="bannière Dronépik"></p>    
		<h1>Accusé de réception</h1>
	</header>
	
    <h3> Merci pour votre commande ! Nous en accusons réception.</h3>
	<h4>Voici un récapitulatif de toutes vos coordonnées ainsi que de la fiche technique du Dronépik :</h4>
	<table id="infos">
        <tr> 
			<td>Nom et prénom</td>
			<td id="noms"></td>
		</tr>
		<tr>
			<td>Contact</td>
			<td id="contact"></td>
		</tr>
		<tr>
			<td>Adresse de livraison</td>
			<td id="adresse"></td>
		</tr>
		<tr class="doubleBorderTop">
			<td>Modèle commandé</td>
			<td id="modele"></td>
		</tr>
		<tr>
			<td>Résolution</td>
			<td id="resolution"></td>
		</tr>
		<tr>
			<td>Options supplémentaires</td>
			<td id="options"></td>
		</tr>
		<tr class="doubleBorderTop">
			<td>Prix</td>
			<td id="prix"></td>
		</tr>
	</table>

	<p id="msgCommentaire">Nous avons bien noté votre commentaire, et en tiendrons compte ! ;)</p>

    <input type="button" value="Faire une nouvelle commande" onmouseover="overButton('nouvelle_commande')" onmouseout="notOverButton('nouvelle_commande')" onclick="nouvelleCommande()" id="nouvelle_commande" class="action">

	<footer>
		<p>© Jules Tennenbaum - NSI Joliot Curie - 19/03/2022</p>
		<a href="http://jigsaw.w3.org/css-validator/check/referer">
			<img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="CSS Valide !" />
		</a>
	</footer>




<script>

	// redirection vers la page principale
	function nouvelleCommande(){
		document.location.href="commande.html";
	}

	// fonctions quand on passe la souris sur un bouton, et quand on en sort
	function overButton(elmtID){
		button = document.getElementById(elmtID);
		button.style.filter = "brightness(1.1)";
		button.style.border = "solid 2px #6b616f"
		button.style.padding = "8px 28px";
	}
	function notOverButton(elmtID){
		button = document.getElementById(elmtID);
		button.style.filter = "brightness(1)";
		button.style.border = "none";
		button.style.padding = "10px 30px";
	}
       
// la fonction de récupération du contenu de la commande
	function recuperer(){
        var obj = JSON.parse(localStorage.getItem('maCommande'));
		
        document.getElementById("noms").innerHTML = obj[0][0] + " " + obj[0][1]; 
		document.getElementById("contact").innerHTML = obj[1];
		document.getElementById("adresse").innerHTML = obj[2];
		document.getElementById("modele").innerHTML = obj[3]; 
		document.getElementById("resolution").innerHTML = obj[4]; 
		document.getElementById("options").innerHTML = obj[5]; 

		// Si un commentaire n'a pas été ajouté, on n'affiche pas le message disant l'avoir reçu
		if (obj[6] == 0){document.getElementById("msgCommentaire").style.display="none"};

		// affiche le prix
		document.getElementById("prix").innerHTML = obj[7] + "€";
	}
    
</script>

</body>
</html>